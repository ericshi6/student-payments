<html>
    <head>
        <title>Student Payment Portal</title>
        <meta name = "viewport" content = "width=device-width; initial-scale = 1; user-scalable = no;" />
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <script
        src="https://secure.nmi.com/token/Collect.js"
        data-tokenization-key="5mN8N7-jhr55W-N22pxX-uAW2s9"
        data-payment-selector=".customPayButton"
        data-theme="bootstrap"
        data-primary-color="#ff288d"
        data-secondary-color="#00ffb3"
        data-button-text="SUBMIT ME!"
        data-payment-type="cc"
        data-instruction-text="Enter Card Information"
    ></script>
    <link id="css" rel="stylesheet" type="text/css" href="student-payments.css" />
    </head>
    <body>

            <div class = "container">    
                <form id="payForm" action="https://secure.nmi.com/api/transact.php" method="post" class = "theForm" target = "ifrm1">
                    <img class="logo" src="https://rb.gy/wisk3j">

                    <h1 class="text-center">Student Payment Portal</h1>
                    <h4 class="text-info text-center">Utilizing Collect.js Hosted Tokenization </h4>
                    <hr>
                    <div>
                        <input type="hidden" id="username" name="username" value="demo">
                        <input type="hidden" id="password" name="password" value="password">

                        <!-- Visible Form-->
                        <h3> Amount Due:</h3>
                            <input size="30" type="text" name="amount" value="55.99" class="form-control form-amount"/>
                        <h3>Name:</h3>
                            <p>
                                First Name: 
                                <input size="30" type="text" name="fname" value="Chi Chi" class="form-control"/>
                            </p>
                            <p>
                                Last Name: 
                                <input size="30" type="text" name="lname" value="Rodriguez" class="form-control"/>
                            </p>
                            <p>
                                Student ID:
                                <input size="30" type="text" name="merchant_defined_field_1" value="student_1" class="form-control">
                            </p>
                        
                        <h3>Billing Info:</h3>
                            <p>
                                Address: 
                                <input size="30" type="text" name="address" value="123 Main Street" class="form-control">
                            </p>
                            <p>
                                City: 
                                <input size="30" type="text" name="city" value="Beverley Hills" class="form-control">
                            </p>
                            <p>
                                State: 
                                <input size="30" type="text" name="state" value="CA" class="form-control">
                            </p>
                            <p>
                                Zip: 
                                <input size="30" type="text" name="zip" value="90210" class="form-control">
                            </p>
                            <p>
                                Country: 
                                <input size="30" type="text" name="country" value="US" class="form-control">
                            </p>
                            <p>
                                Phone: 
                                <input size="30" type="text" name="phone" value="5555555555" class="form-control">
                            </p>
                      

                            
                            <p>
                                What would you like to pay for? 
                                <select name="merchant_defined_field_2" id = "dropdown" class="form-control">
                                    <option value="" selected disabled hidden>Choose here</option>
                                </select>
                            </p>
                            <br>
                            <button class="customPayButton btn-large text-center" type="button" id="payButton">Pay the money</button>
                            <br><small>*See console for test cards</small>
                            <img src="https://s3-us-west-2.amazonaws.com/userdata123/www/imagefields/64956/64956231.png?_=1592513079790" style="height:5%; display: block; margin-left: auto;">

                       
                    </div>
     
                     
                    
                </form>
                <div id="paymentResponse" type="hidden" style = "display: block; margin: 20px auto;">
                    <h4>Raw Payment Response:</h4>
                    <iframe id="ifrm1" name="ifrm1"></iframe>
                </div>
            </div>
        
            <div class = "container text-center">
                <br>
                <button id="toggleTable">Toggle NMI Test Card PANs: </button><hr>
                
                <table id = "testCardTable" style= "display: none;">
                <tbody>
                <tr>
                <th bgcolor="#5cddad" data-darkreader-inline-bgcolor=""><font style="--darkreader-inline-color: #dad7d1;" color="#282828" data-darkreader-inline-color="">Card Scheme</font></th>
                <th bgcolor="#5cddad" data-darkreader-inline-bgcolor=""><font style="--darkreader-inline-color: #dad7d1;" color="#282828" data-darkreader-inline-color="">Card Number (PAN)</font></th>
                </tr>
                <tr>
                    <td>Amex
                    <td>371111111111114
                </tr>
                <tr>
                    <td>Diners
                    <td>3001111111111116
                </tr>
                <tr>
                    <td>Discover
                    <td>6011111111111117
                </tr>
                <tr>
                    <td>JCB
                    <td>35281111111111119
                </tr>
                <tr>
                    <td>Maestro
                    <td>56410411111111113
                </tr>
                <tr>
                    <td>Mastercard <em>(Credit)</em>
                    <td>5411111111111115
                </tr>
                <tr>
                    <td>Mastercard <em>(Debit)</em>
                    <td>5511111111111114
                </tr>
                <tr>
                    <td>Visa <em>(Credit)</em>
                    <td>4532111111111112
                </tr>
                <tr>
                    <td>Visa <em>(Debit)</em>
                    <td>4751271111111118
                </tr>
                </tbody>
                </table>
            </div>
    </body>
    <script src="student-payments.js"></script>
<script type="text/javascript">

    /*
//This function allows the user to swap between API keys to route to separate bank accounts
// removed all keys and swapped with demo credentials from NMI
// employed a switch/case to hide merchant keys
    document.getElementById("dropdown").addEventListener("click", function(){
        var dropdownOption = document.getElementById("dropdown").value;
         
        switch (dropdownOption) {
            case "Tuition/fees (AUA distinct from AICASA)":
                document.getElementById("security_key").value = ""
                break
            case "Housing":
                document.getElementById("security_key").value = ""
                break
            case "Utilities":
                document.getElementById("security_key").value = ""
                break
            case "Comp exam payments":
                document.getElementById("security_key").value = ""
                break
            case "Transcripts":
                document.getElementById("security_key").value = ""
                break
            case "Temp bus passes or full semester bus service":
                document.getElementById("security_key").value = ""
                break
            case "Parking permits":
                document.getElementById("security_key").value = ""
                break
            case "Diplomas (small and large formats)":
                document.getElementById("security_key").value = ""
                break
            case "Cap&Gown fees":
                document.getElementById("security_key").value = ""
                break
            case "Other":
                document.getElementById("security_key").value = ""
                break
            }
        });
        */

       /* 
       additional fields:
                               <!--input type="hidden" id="security_key" name="security_key" value="no key"-->
                        <input type="hidden" id="username" name="username" value="demo">
                        <input type="hidden" id="password" name="password" value="password">

                        <!--Level 2 Data-->
                        <input type="hidden" id="tax" name="tax" value="1.00">
                        <input type="hidden" id="shipping" name="shipping" value="1.00">
                        <input type="hidden" id="ponumber" name="ponumber" value="100">
                        <!--Level 3 Data-->
                        <input type="hidden" id="item_product_code_" name="item_product_code_" value="100">
                        <input type="hidden" id="item_description_" name="item_description_" value="100">
                        <input type="hidden" id="item_commodity_code_" name="item_commodity_code_" value="100">
                        <input type="hidden" id="item_unit_of_measure_" name="item_unit_of_measure_" value="100">
                        <input type="hidden" id="item_unit_cost_" name="item_unit_cost_" value="100">
                        <input type="hidden" id="item_quantity_" name="item_quantity_" value="100">
                        <input type="hidden" id="item_total_amount_" name="item_total_amount_" value="100">
                        <input type="hidden" id="item_tax_amount_" name="item_tax_amount_" value="100">
                        <input type="hidden" id="item_tax_rate_" name="item_tax_rate_" value="100">
                        <input type="hidden" id="item_discount_amount_" name="item_discount_amount_" value="100">
                        <input type="hidden" id="item_discount_rate_" name="item_discount_rate_" value="100">
                        <input type="hidden" id="item_tax_type_" name="item_tax_type_" value="100">
                        <input type="hidden" id="item_alternate_tax_id_" name="item_alternate_tax_id_" value="100">
       
       */
</script>

</html>
